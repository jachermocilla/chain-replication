package proto;

// generic message
message Message {
	enum MessageType {
		REQUEST = 0;
	//	ACKNOWLEDGE = 1;
	}
	required MessageType type = 1;
	optional Request request = 2;
}

message Address {
	required string ip = 1;
	required int32 port = 2;
}

message Request {
	enum RequestType {
		QUERY = 0;
		DEPOSIT = 1;
		WITHDRAW = 2;
	}
	enum Outcome {
		PROCESSED = 0;
		INCONSISTENT_WITH_HISTORY = 1;
		INSUFFICIENT_FUNDS = 2;
	}
	required string req_id = 1;
	required RequestType type = 2;
	optional Outcome outcome = 3;
	optional float balance = 4;
	required Address client_addr = 5;
}
